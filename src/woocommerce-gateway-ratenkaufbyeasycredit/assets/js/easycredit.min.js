jQuery(function(n){function e(t,n){new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){1===e.nodeType&&(el=e.querySelector(t))&&n(t)})})}).observe(document,{subtree:!0,childList:!0})}function t(e){i(e,function(e){n(e).submit(function(e){var t=n("form.checkout");return t.append('<input type="hidden" name="easycredit[submit]" value="1" />'),e.detail&&e.detail.numberOfInstallments&&t.append('<input type="hidden" name="easycredit[number-of-installments]" value="'+e.detail.numberOfInstallments+'" />'),t.submit(),!1}),n("form.checkout").on("checkout_place_order",function(){return!n("easycredit-checkout").is(":visible")||!n("easycredit-checkout").prop("isActive")||""!==n("easycredit-checkout").prop("paymentPlan")||""!==n("easycredit-checkout").prop("alert")||(0<n(this).find('input[name="easycredit[submit]"]').length||(n(e).get(0).dispatchEvent(new Event("openModal")),!1))}),n(document.body).on("checkout_error",function(){n(e).get(0).dispatchEvent(new Event("closeModal"))})})}function c(e){i(e,function(e){n(e).submit(function(e){var t=n(this).closest(".summary").find("form.cart");0<t.length&&t.find('button[name="add-to-cart"]')&&t.append('<input type="hidden" name="easycredit-express" value="1" />').find('button[name="add-to-cart"]').click(),0<n(this).closest(".wc-proceed-to-checkout").length&&(window.location.href="/easycredit/express")})})}var o=n("meta[name=easycredit-widget-selector]").attr("content"),i=(n(o).after(n("<easycredit-widget />").attr({"webshop-id":n("meta[name=easycredit-api-key]").attr("content"),amount:n("meta[name=easycredit-widget-price]").attr("content")})),n(".woocommerce-checkout").on("change","#billing_company",function(){n(this).trigger("update_checkout")}),function(e,t){document.querySelector(e)&&window.setTimeout(function(){if(!document.querySelector(e).classList.contains("hydrated"))return i(e,t);t(e)},50)});e("easycredit-checkout",t),i("easycredit-checkout",t);e("easycredit-express-button",c),i("easycredit-express-button",c)});
//# sourceMappingURL=easycredit.min.js.map