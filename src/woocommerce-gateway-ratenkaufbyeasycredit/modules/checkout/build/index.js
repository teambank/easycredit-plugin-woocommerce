(()=>{"use strict";var e={20:(e,t,n)=>{var r=n(609),a=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var r,c={},d=null,u=null;for(r in void 0!==n&&(d=""+n),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!i.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:a,type:e,key:d,ref:u,props:c,_owner:s.current}}},848:(e,t,n)=>{e.exports=n(20)},609:e=>{e.exports=window.React}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{const e=window.wc.wcBlocksRegistry,t=window.wp.element,r=window.wp.data,a=window.wc.wcBlocksData,o=window.wp.i18n,s=window.wp.htmlEntities,i=window.wc.wcSettings;var c=n(848);const d=(0,i.getSetting)("ratenkaufbyeasycredit_data"),u=({billing:e,eventRegistration:n,activePaymentMethod:o})=>{const{onCheckoutFail:i,onCheckoutValidation:u}=n,l=(0,r.useSelect)((e=>e(a.VALIDATION_STORE_KEY).hasValidationErrors())),w=(0,t.useRef)(null),p=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{w.current&&w.current.addEventListener("submit",(()=>{l&&w.current.dispatchEvent(new Event("closeModal")),p.current=!0,document.querySelector(".wc-block-components-checkout-place-order-button").dispatchEvent(new window.MouseEvent("click",{bubbles:!0}))}))}),[]),(0,t.useEffect)((()=>o!==d.id||u((()=>!w.current||!!p.current||(w.current.dispatchEvent(new Event("openModal")),{errorMessage:"Bitte stimmen Sie der DatenÃ¼bermittlung zu."})))),[u,o,p]),(0,t.useEffect)((()=>o!==d.id||i((()=>{w.current&&w.current.dispatchEvent(new Event("closeModal"))}))),[i,o]),(0,c.jsx)("easycredit-checkout",{ref:w,"webshop-id":(0,s.decodeEntities)(d.apiKey),amount:e.cartTotal.value/100})},l={name:"ratenkaufbyeasycredit",content:(0,c.jsx)(u,{}),edit:(0,c.jsx)(u,{}),canMakePayment:()=>d.enabled,paymentMethodId:d.id,label:(0,c.jsx)("easycredit-checkout-label",{}),ariaLabel:"easycredit",placeOrderButtonLabel:(0,o.__)("Continue to pay by installments")},w=(0,i.getSetting)("ratenkaufbyeasycredit_data"),p=e=>{const n=(0,t.useRef)(null);(0,t.useEffect)((()=>{n.current&&n.current.addEventListener("submit",(()=>{window.location.href=w.expressUrl}))}),[n]);const r=e.billing.cartTotal.value/100;return(0,c.jsx)("easycredit-express-button",{ref:n,"webshop-id":(0,s.decodeEntities)(w.apiKey),amount:r})},y={name:"ratenkaufbyeasycredit_express",content:(0,c.jsx)(p,{}),edit:(0,c.jsx)(p,{}),canMakePayment:()=>w.enabled,paymentMethodId:w.id};(0,e.registerPaymentMethod)(l),(0,e.registerExpressPaymentMethod)(y)})()})();